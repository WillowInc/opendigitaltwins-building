# .github/workflows/stale-branches.yml
# Automatically mark and delete stale branches to keep repository clean

name: Stale Branches

on:
  schedule:
    # Run weekdays at 6am UTC
    - cron: '0 6 * * 1-5'
  workflow_dispatch:

permissions:
  issues: write
  contents: write

jobs:
  stale_branches:
    runs-on: ubuntu-latest
    steps:
      - name: Stale Branches
        uses: crs-k/stale-branches@v8.2.2
        with:
          repo-token: '${{ secrets.GITHUB_TOKEN }}'
          days-before-stale: 180        # Mark branch as stale after 180 days (6 months)
          days-before-delete: 210       # Delete stale branch after 210 days total (7 months)
          comment-updates: true          # Comment on issues when branch is marked stale
          max-issues: 100                # Maximum number of issues to process per run
          tag-committer: false           # Don't tag the committer in the issue
          stale-branch-label: '[stale branch üóëÔ∏è]'  # Label for stale branch issues
          compare-branches: 'save'       # Save branches for comparison
