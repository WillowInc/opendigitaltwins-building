{
  "@id": "dtmi:com:willowinc:ConnectorApplication;1",
  "@type": "Interface",
  "displayName": {
    "en": "Connector Application"
  },
  "description": {
    "en": "An application whose task is to connect to and communicate with other software applications."
  },
  "extends" : [
    "dtmi:com:willowinc:Application;1"
  ],
  "contents": [
    {
      "@type": "Property",
      "name": "connectorType",
      "displayName": {
        "en": "Connector Type"
      },
      "description": {
        "en": "The type of connector application. There may be many instances (aka twins) of the same Connector Type installed for an organization."
      },
      "writable": true,
      "schema": {
        "@type": "Object",
        "fields": [
          {
            "name": "id",
            "displayName": {
              "en": "ID"
            },
            "description": {
              "en": "The unique identier for the connector type"
            },
            "schema": "string"
          },
          {
            "name": "name",
            "displayName": {
              "en": "Name"
            },
            "description": {
              "en": "The display name for the connector type."
            },
            "schema": "string"
          },
          {
            "name": "direction",
            "displayName": {
              "en": "Direction"
            },
            "description": {
              "en": "Indicates whether the connector type is Source or Destination. Source indicates data flowing from an external system to the org. Destination indicates data flowing from the org to an external system."
            },
            "schema": "string"
          },
          {
            "name": "version",
            "displayName": {
              "en": "Version"
            },
            "schema": "string"
          }
        ]
      }
    },
    {
      "@type": "Property",
      "name": "dataCollectionMethod",
      "displayName": {
        "en": "Data Collection Method"
      },
      "writable": true,
      "schema": {
        "@type": "Enum",
        "valueSchema": "string",
        "enumValues": [
          {
            "name": "polling",
            "displayName": {
              "en": "Polling"
            },
            "enumValue": "Polling"
          },  
          {
            "name": "changeofValue",
            "displayName": {
              "en": "Change-of-Value"
            },
            "enumValue": "Change-of-Value"
          },
          {
            "name": "changeOfValueWithHeartbeat",
            "displayName": {
              "en": "Change-of-Value with Heartbeat"
            },
            "enumValue": "Change-of-Value with Heartbeat"
          }
        ]
      }
    },
    {
      "@type": ["Property", "TimeSpan"],
      "name": "pollingInterval",
      "displayName": {
        "en": "Polling Interval"
      },
      "writable": true,
      "schema": "integer",
      "unit": "second",
      "comment": "how often the connector reads values from the controller(s)"
    },
    {
      "@type": ["Property", "ValueAnnotation", "Override"],
      "displayName": {
        "en": "Polling Interval Unit"
      },
      "name": "pollingIntervalUnit",
      "annotates": "pollingInterval",
      "overrides": "unit",
      "schema": "TimeUnit"
    }
  ],
  "@context": [
    "dtmi:dtdl:context;3",
    "dtmi:dtdl:extension:quantitativeTypes;1",
    "dtmi:dtdl:extension:annotation;1",
    "dtmi:dtdl:extension:overriding;1"
  ]
}
